<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Screen Streaming with MFD Buttons</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* Additional CSS styles */



        .button {
           
       

            background-size: cover; /* Adjust the background size as needed */
            background-repeat: no-repeat;
            background-color: #173518;
            border: 2px solid grey;
            color: white;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
            color: white;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            cursor: pointer;
            border-radius: 8px;
            padding: 20px 20px;
      
            
            margin-top:20px;
            margin-top:20px;
        }

        /* Button positions */

        /* Remove default margin and padding from body */

    </style>
</head>

<body>
    <h1 class="text-center">Screen Streaming with MFD Buttons</h1>
    <div class="container">
        <div class="CDU_PANEL col-12">
            
            <div class="col-6">
            <div class="col-1">
                        <div class="col align-items-center col-12">
                        <button id='STEER_+' type="button" class=" button btn-lg col-2">+ </button>
                        <button id='STEER_-' type="button" class=" button btn-lg col-2">- </button>
                    </div>
            </div>

        </div>
        <div class="row align-items-start">
            <div class="col-6">

                <div class="btn-group col-12">
                    <div class="col align-items-center col-12">
                        <button id='button1' type="button" class=" button btn-lg col-2">1 </button>
                        <button id='button2' type="button" class=" button btn-lg col-2">2 </button>
                        <button id='button3' type="button" class=" button btn-lg col-2">3 </button>
                        <button id='button4' type="button" class=" button btn-lg col-2">4 </button>
                        <button id='button5' type="button" class=" button btn-lg col-2">5 </button>
                    </div>
                </div>

                <div <div class="col-12">

                    <div class="row align-items-start col-12">
                        <div class="btn-group col">
                            <div class="row align-items-center col-12">
                                 
                                 
                                 
                                 
                                <button id='button6' type="button" class=" button btn-lg col">1 </button>
                                 
                                 
                                 
                                 
                                <button id='button7' type="button" class=" button btn-lg col">2 </button>
                                 
                                 
                                 
                                 
                                <button id='button8' type="button" class=" button btn-lg col">3 </button>
                                 
                                 
                                 
                                 
                                <button id='button9' type="button" class=" button btn-lg col">4 </button>
                                 
                                 
                                 
                                 

                                <button id='button10' type="button" class=" button btn-lg col">5 </button>
                            </div>
                        </div>


                        <div class="col-9">
                            <img src="{{ url_for('video_feed1') }}" class="img-fluid col-12 " alt="First video feed">
                        </div>

                        <div class="btn-group col">
                            <div class="row align-items-center col-12">
                                 
                                 
                                 
                                 
                                <button id='button11' type="button" class=" button btn-lg col">1 </button>
                                 
                                 
                                 
                                 
                                <button id='button12' type="button" class=" button btn-lg col">2 </button>

                                 
                                 
                                 
                                  <button id='button13' type="button" class=" button btn-lg col">3 </button>

                                 
                                 
                                 
                                 <button id='button14' type="button" class=" button btn-lg col">4 </button>

                                 
                                 
                                 
                                 <button id='button15' type="button" class=" button btn-lg col">5 </button>
                            </div>
                        </div>




                        <!-- Buttons near the edges of the first stream -->

                    </div>

                </div>
                <div class="btn-group col-12">
                    <div class="col align-items-center col-12">
                        <button id='button16' type="button" class=" button btn-lg col-2">1 </button>
                        <button id='button17' type="button" class=" button btn-lg col-2">2 </button>
                        <button id='button18' type="button" class=" button btn-lg col-2">3 </button>
                        <button id='button19' type="button" class=" button btn-lg col-2">4 </button>
                        <button id='button20' type="button" class=" button btn-lg col-2">5 </button>
                    </div>
                </div>

            </div>

            
 <div class="col-6">

                <div class="btn-group col-12">
                    <div class="col align-items-center col-12">
                        <button id='button21' type="button" class=" button btn-lg col-2">1 </button>
                        <button id='button22' type="button" class=" button btn-lg col-2">2 </button>
                        <button id='button23' type="button" class=" button btn-lg col-2">3 </button>
                        <button id='button24' type="button" class=" button btn-lg col-2">4 </button>
                        <button id='button25' type="button" class=" button btn-lg col-2">5 </button>
                    </div>
                </div>

                <div <div class="col-12">

                    <div class="row align-items-start col-12">
                        <div class="btn-group col">
                            <div class="row align-items-center col-12">
                                 
                                 
                                 
                                 
                                <button id='button26' type="button" class=" button btn-lg col">1 </button>
                                 
                                 
                                 
                                 
                                <button id='button27' type="button" class=" button btn-lg col">2 </button>
                                 
                                 
                                 
                                 
                                <button id='button28' type="button" class=" button btn-lg col">3 </button>
                                 
                                 
                                 
                                 
                                <button id='button29' type="button" class=" button btn-lg col">4 </button>
                                 
                                 
                                 
                                 

                                <button id='button30' type="button" class=" button btn-lg col">5 </button>
                            </div>
                        </div>


                        <div class="col-9">
                            <img src="{{ url_for('video_feed1') }}" class="img-fluid col-12 " alt="First video feed">
                        </div>

                        <div class="btn-group col">
                            <div class="row align-items-center col-12">
                                 
                                 
                                 
                                 
                                <button id='button31' type="button" class=" button btn-lg col">1 </button>
                                 
                                 
                                 
                                 
                                <button id='button32' type="button" class=" button btn-lg col">2 </button>

                                 
                                 
                                 
                                  <button id='button33' type="button" class=" button btn-lg col">3 </button>

                                 
                                 
                                 
                                 <button id='button34' type="button" class=" button btn-lg col">4 </button>

                                 
                                 
                                 
                                 <button id='button35' type="button" class=" button btn-lg col">5 </button>
                            </div>
                        </div>




                        <!-- Buttons near the edges of the first stream -->

                    </div>

                </div>
                <div class="btn-group col-12">
                    <div class="col align-items-center col-12">
                        <button id='button36' type="button" class=" button btn-lg col-2">1 </button>
                        <button id='button37' type="button" class=" button btn-lg col-2">2 </button>
                        <button id='button38' type="button" class=" button btn-lg col-2">3 </button>
                        <button id='button39' type="button" class=" button btn-lg col-2">4 </button>
                        <button id='button40' type="button" class=" button btn-lg col-2">5 </button>
                    </div>
                </div>

            </div>
    </div>

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Add event listeners to buttons for the first stream
for (let i = 1; i <= 20; i++) {
    document.getElementById('button' + i).addEventListener('click', function() {
        simulateShift1AndSendToServer('button' + i);
    });
}

// Add event listeners to buttons for the second stream
for (let i = 21; i <= 40; i++) {
    document.getElementById('button' + i).addEventListener('click', function() {
        simulateShift1AndSendToServer('button' + i);
    });
}
        // Function to simulate Shift+1 and send to server
 async function simulateShift1AndSendToServer(id) {
    let key, keyCode;

    switch (id) {
        case 'button21':
        case 'button1' :
            key = '1';
            keyCode = 49;
            break;

        case 'button22':
        case 'button2':
        key = '2';
        keyCode = 50;
        break;
        case 'button23':
        case 'button3':
            key = '3';
            keyCode = 51;
            break;
        case 'button24':
        case 'button4':
            key = '4';
            keyCode = 52;
            break;
        case 'button25':
        case 'button5':
            key = '5';
            keyCode = 53;
            break;
        case 'button26':
        case 'button6':
            key = '6';
            keyCode = 54;
            break;
        case 'button27':
        case 'button7':
            key = '7';
            keyCode = 55;
            break;
        case 'button28':
        case 'button8':
            key = '8';
            keyCode = 56;
            break;
        case 'button29':
        case 'button9':
            key = '9';
            keyCode = 57;
            break;
        case 'button30':
        case 'button10':
            key = '0';
            keyCode = 48;
            break;
        case 'button31':
        case 'button11':
            key = 'a';
            keyCode = 65;
            break;
        case 'button32':
        case 'button12':
            key = 'b';
            keyCode = 66;
            break;
        case 'button33':
        case 'button13':
            key = 'c';
            keyCode = 67;
            break;
        case 'button34':
        case 'button14':
            key = 'd';
            keyCode = 68;
            break;
        case 'button35':
        case 'button15':
            key = 'e';
            keyCode = 69;
            break;
        case 'button36':
        case 'button16':
            key = 'f';
            keyCode = 70;
            break;
        case 'button37':
        case 'button17':
            key = 'g';
            keyCode = 71;
            break;
        case 'button38':
        case 'button18':
            key = 'h';
            keyCode = 72;
            break;
        case 'button39':
        case 'button19':
            key = 'i';
            keyCode = 73;
            break;
        case 'button40':
        case 'button20':
            key = 'j';
            keyCode = 74;
            break;
        default:
            // Handle default case
            console.error('Invalid button ID:', id);
            return;
    }

    const event = new KeyboardEvent('keydown', {
        key: key,
        keyCode: keyCode,
    });


            // Simulate Shift+1 locally
            document.dispatchEvent(event);

            // Send the command to the server
            fetch('/send-keyboard-shortcut', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    shortcut: 'shift_' + key
                }) // Send the shortcut information
            }).then(response => {
                // Handle response from server if needed
                console.log('Shortcut sent to server');
            }).catch(error => {
                console.error('Error sending shortcut to server:', error);
            });
        }
    </script>
</body>

</html>